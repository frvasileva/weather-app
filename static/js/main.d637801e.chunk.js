(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{115:function(e,c,t){},178:function(e,c,t){},179:function(e,c,t){},313:function(e,c,t){},316:function(e,c,t){},317:function(e,c,t){},318:function(e,c,t){},319:function(e,c,t){"use strict";t.r(c);var s=t(2),a=t(0),n=t.n(a),i=t(78),r=t.n(i),l=(t(178),t(15)),d=t(79),o=t(18),j=(t(179),function(e){var c=e.hours;return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md",children:Object(s.jsx)("ul",{className:"temperature-by-hour-list-wrapper",children:c.map((function(e){return Object(s.jsx)("li",{className:"hour-item",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-4 col-3",children:Object(s.jsx)("div",{className:"item-wrapper",children:Object(s.jsxs)("p",{children:[" ",e.time.split(" ")[1]]})})}),Object(s.jsx)("div",{className:"col-md-1 col-1 weather-icon-cell-wrapper",children:Object(s.jsx)("img",{className:"icon weather-icon",src:e.condition.icon,alt:e.condition.text})}),Object(s.jsx)("div",{className:"col-md-3 col-4 weather-icon-cell-wrapper",children:Object(s.jsx)("p",{className:"condition-text-small",children:e.condition.text})}),Object(s.jsx)("div",{className:"col-md-4 col-3",children:Object(s.jsx)("p",{className:"temperature-value",children:Object(s.jsxs)("strong",{children:[e.temp_c.toFixed()," \xb0C "]})})})]})},e.time)}))})})})})});function h(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var u=function(){var e=Object(a.useState)(h()),c=Object(l.a)(e,2),t=c[0],s=c[1];return Object(a.useEffect)((function(){function e(){s(h())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t},b=t(322),m=t(167),x=t(326),O=t(163),v=t(164),p=t(70),N=(t(115),function(e){var c=e.element,t=u().width,a=550;t<800&&t>600&&(a=t-300),t<=600&&(a=t-100),console.log("chartWidth",a);var n=c.hour.map((function(e){return{x:e.time.substr(11,6),y:e.temp_c,label:e.time.substr(11,6),style:{fontSize:10},rotation:34,labelAnchorY:e.time.substr(11,6),chance_of_rain:e.chance_of_rain,humidity:e.humidity,icon:e.condition.icon}}));function i(e){var c=e.payload,t=e.label;return e.active?Object(s.jsxs)("div",{className:"custom-tooltip",children:[Object(s.jsxs)("span",{className:"label",children:[t," \u0447. "]}),Object(s.jsx)("hr",{}),Object(s.jsx)("img",{src:c[0].payload.icon,alt:"weather icon",className:"weather-icon"}),Object(s.jsxs)("span",{className:"value",children:[Math.round(c[0].value),"\xb0C "]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("span",{className:"desc",children:[c[0].payload.chance_of_rain,"% Rain"]}),Object(s.jsxs)("span",{className:"desc",children:[c[0].payload.humidity,"% Humidity"]})]}):null}return e.isExpanded?Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-4 item-wrapper",children:[Object(s.jsx)("span",{className:"wi wi-humidity",title:"Humidity"}),Object(s.jsxs)("span",{className:"item-value",children:[" ",c.day.avghumidity," %"]}),Object(s.jsx)("span",{className:"weather-label-info",children:"Humidity"})]}),Object(s.jsxs)("div",{className:"col-4 item-wrapper",children:[Object(s.jsx)("span",{className:"wi wi-night-showers",title:"Showers"}),Object(s.jsxs)("span",{className:"item-value",children:[c.day.daily_chance_of_rain," %"]}),Object(s.jsx)("span",{className:"weather-label-info",children:"Rain"})]}),Object(s.jsxs)("div",{className:"col-4 item-wrapper",children:[Object(s.jsx)("span",{className:"wi wi-snowflake-cold",title:"Snow"}),Object(s.jsxs)("span",{className:"item-value",children:[c.day.daily_chance_of_snow," %"]}),Object(s.jsx)("span",{className:"weather-label-info",children:"Snow"})]})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col-md",children:[Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)(b.a,{width:a,height:300,data:n,children:[Object(s.jsx)(m.a,{type:"monotone",dataKey:"y",stroke:"#8884d8"}),Object(s.jsx)(x.a,{stroke:"#ccc",strokeDasharray:"3 3"}),Object(s.jsx)(O.a,{dataKey:"x"}),Object(s.jsx)(v.a,{}),Object(s.jsx)(p.a,{content:Object(s.jsx)(i,{})})," "]})]})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md",children:Object(s.jsx)(j,{hours:c.hour})})})]}):Object(s.jsx)("div",{})}),f=function(e){var c=e.element,t=Object(a.useState)(!1),n=Object(l.a)(t,2),i=n[0],r=n[1],d=Object(a.useState)("fas fa-chevron-circle-down"),o=Object(l.a)(d,2),j=o[0],h=o[1],u=new Date(c.date);return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"row weather-by-day-row",onClick:function(){r(!i),h(i?"fas fa-chevron-circle-down":"fas fa-chevron-circle-up")},children:[Object(s.jsx)("div",{className:"col-md-4 col-4",children:Object(s.jsx)("span",{className:"day-of-week",children:u.toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric"})})}),Object(s.jsx)("div",{className:"col-md-2 col-2",children:Object(s.jsx)("img",{src:c.day.condition.icon,alt:c.day.condition.text,className:"small-icon"})}),Object(s.jsx)("div",{className:"col-md-4 col-4",children:Object(s.jsxs)("span",{className:"daily-temperatures",children:[c.day.mintemp_c.toFixed()," /"," ",c.day.maxtemp_c.toFixed()," \xb0C"]})}),Object(s.jsx)("div",{className:"col-md-2 col-2",children:Object(s.jsx)("div",{className:"expander-wrapper",children:Object(s.jsx)("i",{className:j})})})]}),Object(s.jsx)("div",{className:i?"row expanded-row":"row",children:Object(s.jsxs)("div",{className:"col-md",children:[" ",Object(s.jsx)(N,{isExpanded:i,element:c,className:"weather-by-hours"})]})})]})},w=function(e){var c=e.forecastDays;return c?Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{className:"tile-header",children:"Next 3 days:"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md",children:Object(s.jsx)("ul",{className:"list-group-flush",children:c.map((function(e){return Object(s.jsx)("li",{className:"list-group-item",children:Object(s.jsx)(f,{element:e})},e.date)}))})})})]}):Object(s.jsx)("div",{children:"Loading ..."})},y=function(e){switch(e){case 1:return"Good";case 2:return"Moderate";case 3:return"Unhealthy for sensitive group";case 4:return"Unhealthy";case 5:return"Very Unhealthy";case 6:return"Hazardous";default:return"Info missing"}},g=(t(313),n.a.createContext({weatherType:"sunny",setWeatherType:function(){}})),S=function(e){return console.log("weather",e),e?(e=e.toLowerCase()).includes("rain")?"rain":e.includes("sun")?"sun":e.includes("wind")?"wind":e.includes("fog")?"fog":e.includes("snow")?"snow":e.includes("wind")?"wind":e.includes("sleet")?"sleet":e.includes("cloud")||e.includes("overcast")?"cloud":"n/a":"n/a"},_=function(){var e,c=Object(o.e)(),t=null!==(e=new URLSearchParams(c.search).get("term"))&&void 0!==e?e:"Sofia",n="";""!==t&&(n="//api.weatherapi.com/v1/forecast.json?key=a074730b7e2a496cb3c110546221301&q="+t+"&days=3&aqi=yes&alerts=yes");var i=Object(a.useState)(null),r=Object(l.a)(i,2),d=r[0],j=r[1],h=Object(a.useContext)(g).setWeatherType,u=function(){fetch(n).then((function(e){return e.json()})).then((function(e){e.error&&1006===e.error.code?j(void 0):j(e)}))};h(S(null===d||void 0===d?void 0:d.current.condition.text));return Object(a.useEffect)((function(){u();var e=setInterval((function(){u()}),1e5);return function(){return clearInterval(e)}}),[n]),"undefined"===typeof d?Object(s.jsx)("div",{children:Object(s.jsx)("div",{class:"alert alert-secondary",role:"alert",children:"No such location!"})}):d?Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md",children:Object(s.jsxs)("div",{className:"main-current-weather-info",children:[Object(s.jsxs)("div",{className:"location",children:[d.location.name,", ",d.location.country]}),Object(s.jsxs)("div",{className:"temperature",children:[" ",Math.round(d.current.temp_c)," \xb0C"]}),Object(s.jsxs)("div",{className:"temperature-feels-like",children:["Feels like ",Math.round(d.current.feelslike_c)," \xb0C"]}),Object(s.jsxs)("div",{className:"weather-condition",children:[Object(s.jsx)("img",{src:d.current.condition.icon,alt:d.current.condition.text,className:"weather-icon"}),Object(s.jsx)("span",{className:"weather-condition-text",children:d.current.condition.text})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-4",children:[Object(s.jsx)("span",{className:"label",children:"Air Quality: "}),Object(s.jsxs)("span",{className:"value",children:[" ",y(d.current.air_quality["us-epa-index"])]})]}),Object(s.jsxs)("div",{className:"col-4",children:[Object(s.jsx)("span",{className:"label",children:"Humidity: "}),Object(s.jsxs)("span",{className:"value",children:[" ",d.current.humidity,"%"]})]}),Object(s.jsxs)("div",{className:"col-4",children:[Object(s.jsx)("span",{className:"label",children:"Wind: "}),Object(s.jsxs)("span",{className:"value",children:[d.current.wind_kph," km/h"]})]})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{className:"last-updated-info",children:["Last updated: ",d.current.last_updated]})]})})}),Object(s.jsx)(w,{forecastDays:d.forecast.forecastday})]})}):Object(s.jsx)("div",{children:"Loading ..."})},k=(t(316),function(){var e,c=Object(o.e)(),t=Object(o.d)(),n=null!==(e=new URLSearchParams(c.search).get("term"))&&void 0!==e?e:"",i=Object(a.useState)(n),r=Object(l.a)(i,2),d=r[0],j=r[1],h=Object(a.useState)(!0),u=Object(l.a)(h,2),b=u[0],m=u[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"search-by-location-wrapper",children:Object(s.jsx)("form",{onSubmit:function(e){e.preventDefault(),void 0===d||""===d?m(!1):(m(!0),t.push("?term=".concat(d)))},children:Object(s.jsxs)("div",{className:"form-row",children:[Object(s.jsxs)("div",{className:"col-8",children:[Object(s.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Search location",value:d,onChange:function(e){j(e.target.value),void 0!==e.target.value&&""!==e.target.value.trim()&&m(!0)}}),!b&&Object(s.jsx)("span",{children:"Choose location"})]}),Object(s.jsx)("div",{className:"col-4",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-light btn-block btn-lg",children:"Seach"})})]})})}),Object(s.jsx)(_,{})]})});t(317),t(318);var C=function(){var e=Object(a.useState)("sunny"),c=Object(l.a)(e,2),t=c[0],n={weatherType:t,setWeatherType:c[1]},i="wrapper "+t;return Object(s.jsx)(d.a,{children:Object(s.jsx)(g.Provider,{value:n,children:Object(s.jsxs)("div",{className:i,children:[Object(s.jsx)("header",{className:"App-header"}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"app-wrapper",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(k,{})})})})})]})})})},L=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,328)).then((function(c){var t=c.getCLS,s=c.getFID,a=c.getFCP,n=c.getLCP,i=c.getTTFB;t(e),s(e),a(e),n(e),i(e)}))};r.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(C,{})}),document.getElementById("root")),L()}},[[319,1,2]]]);
//# sourceMappingURL=main.d637801e.chunk.js.map